{
  "openapi": "3.1.0",
  "info": {
    "title": "FinancePro API",
    "description": "**FinancePro** is a comprehensive personal finance management platform with AI-powered features for transaction classification, budget forecasting, and intelligent financial insights.\n\n## Features\n- Multi-account management\n- Transaction tracking with AI classification\n- Budget planning and monitoring\n- AI-powered financial insights\n- Advanced analytics and reporting\n\n## Authentication\nAll endpoints (except `/auth/*`) require Bearer JWT token authentication.",
    "termsOfService": "https://financepro.app/terms",
    "contact": {
      "name": "FinancePro Support Team",
      "url": "https://financepro.app/support",
      "email": "support@financepro.app"
    },
    "license": {
      "name": "MIT",
      "url": "https://opensource.org/licenses/MIT"
    },
    "version": "1.0.0",
    "x-logo": {
      "url": "https://financepro.app/assets/logo.png",
      "altText": "FinancePro Logo"
    },
    "x-api-id": "financepro-api",
    "x-audience": "external",
    "x-environment": "development"
  },
  "paths": {
    "/health": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Health Check",
        "description": "Health check endpoint",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/version": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Version Info",
        "description": "Version information",
        "operationId": "version_info_version_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/register": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Register",
        "description": "Registra nuovo utente e crea profilo finanziario di default",
        "operationId": "register_api_v1_auth_register_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserRegister"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/login": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Login",
        "description": "Login e ottieni JWT token",
        "operationId": "login_api_v1_auth_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserLogin"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Token"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/me": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Get Me",
        "description": "Ottieni info utente corrente (test endpoint protetto)",
        "operationId": "get_me_api_v1_auth_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/profiles/": {
      "get": {
        "tags": [
          "Financial Profiles",
          "Financial Profiles"
        ],
        "summary": "List financial profiles",
        "description": "Retrieve all financial profiles for the authenticated user",
        "operationId": "list_profiles_api_v1_profiles__get",
        "responses": {
          "200": {
            "description": "List of financial profiles retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FinancialProfileListResponse"
                },
                "example": {
                  "profiles": [
                    {
                      "id": "550e8400-e29b-41d4-a716-446655440000",
                      "user_id": "550e8400-e29b-41d4-a716-446655440001",
                      "name": "Personal Finance",
                      "description": "My personal financial tracking",
                      "profile_type": "personal",
                      "default_currency": "EUR",
                      "is_active": true,
                      "created_at": "2025-01-15T10:30:00Z",
                      "updated_at": "2025-01-20T14:22:00Z",
                      "is_available": true
                    }
                  ],
                  "total": 1
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "Financial Profiles",
          "Financial Profiles"
        ],
        "summary": "Create new financial profile",
        "description": "Create a new financial profile for the authenticated user",
        "operationId": "create_profile_api_v1_profiles__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FinancialProfileCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Financial profile created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FinancialProfileResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/profiles/{profile_id}": {
      "get": {
        "tags": [
          "Financial Profiles",
          "Financial Profiles"
        ],
        "summary": "Get financial profile by ID",
        "description": "Retrieve a specific financial profile by its ID",
        "operationId": "get_profile_api_v1_profiles__profile_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "profile_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Profile Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Financial profile retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FinancialProfileResponse"
                }
              }
            }
          },
          "404": {
            "description": "Financial profile not found"
          },
          "403": {
            "description": "Not authorized to access this profile"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Financial Profiles",
          "Financial Profiles"
        ],
        "summary": "Update financial profile",
        "description": "Update an existing financial profile (partial update supported)",
        "operationId": "update_profile_api_v1_profiles__profile_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "profile_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Profile Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FinancialProfileUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Financial profile updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FinancialProfileResponse"
                }
              }
            }
          },
          "404": {
            "description": "Financial profile not found"
          },
          "403": {
            "description": "Not authorized to update this profile"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Financial Profiles",
          "Financial Profiles"
        ],
        "summary": "Delete financial profile",
        "description": "Soft delete a financial profile by setting is_active to False",
        "operationId": "delete_profile_api_v1_profiles__profile_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "profile_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Profile Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Financial profile deleted successfully"
          },
          "404": {
            "description": "Financial profile not found"
          },
          "403": {
            "description": "Not authorized to delete this profile"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/profiles/main": {
      "get": {
        "tags": [
          "Financial Profiles",
          "Financial Profiles"
        ],
        "summary": "Get main financial profile",
        "description": "Get the main financial profile for the authenticated user",
        "operationId": "get_main_profile_api_v1_profiles_main_get",
        "responses": {
          "200": {
            "description": "Main profile retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MainProfileResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "patch": {
        "tags": [
          "Financial Profiles",
          "Financial Profiles"
        ],
        "summary": "Set main financial profile",
        "description": "Set the main financial profile for the authenticated user",
        "operationId": "set_main_profile_api_v1_profiles_main_patch",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MainProfileUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Main profile set successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MainProfileResponse"
                }
              }
            }
          },
          "404": {
            "description": "Profile not found"
          },
          "403": {
            "description": "Not authorized to set this profile as main"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/profiles/selection": {
      "get": {
        "tags": [
          "Financial Profiles",
          "Financial Profiles"
        ],
        "summary": "Get active profile selection",
        "description": "Get which profiles are currently active for the authenticated user",
        "operationId": "get_profile_selection_api_v1_profiles_selection_get",
        "responses": {
          "200": {
            "description": "Profile selection retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProfileSelectionResponse"
                }
              }
            }
          },
          "404": {
            "description": "No profile selection found"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "Financial Profiles",
          "Financial Profiles"
        ],
        "summary": "Update active profile selection",
        "description": "Update which profiles are currently active for multi-profile operations",
        "operationId": "update_profile_selection_api_v1_profiles_selection_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProfileSelectionUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Profile selection updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProfileSelectionResponse"
                }
              }
            }
          },
          "404": {
            "description": "One or more profiles not found"
          },
          "403": {
            "description": "Not authorized to select these profiles"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/accounts/": {
      "get": {
        "tags": [
          "Accounts"
        ],
        "summary": "List all accounts",
        "description": "Retrieve all accounts for the authenticated user",
        "operationId": "list_accounts_api_v1_accounts__get",
        "responses": {
          "200": {
            "description": "List of accounts retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AccountList"
                },
                "example": {
                  "accounts": [
                    {
                      "id": 1,
                      "user_id": 42,
                      "name": "Main Checking",
                      "initial_balance": 1000.0,
                      "current_balance": 1250.5,
                      "currency": "EUR",
                      "created_at": "2025-01-15T10:30:00Z",
                      "updated_at": "2025-01-20T14:22:00Z"
                    }
                  ],
                  "total": 1
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "Accounts"
        ],
        "summary": "Create new account",
        "description": "Create a new financial account for the authenticated user",
        "operationId": "create_account_api_v1_accounts__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AccountCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AccountResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/accounts/{account_id}": {
      "get": {
        "tags": [
          "Accounts"
        ],
        "summary": "Get account by ID",
        "description": "Retrieve a specific account by its ID",
        "operationId": "get_account_api_v1_accounts__account_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "account_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Account Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AccountResponse"
                }
              }
            }
          },
          "404": {
            "description": "Account not found"
          },
          "403": {
            "description": "Not authorized to access this account"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Accounts"
        ],
        "summary": "Update account",
        "description": "Update an existing account (partial update supported)",
        "operationId": "update_account_api_v1_accounts__account_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "account_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Account Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AccountUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AccountResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Accounts"
        ],
        "summary": "Delete account",
        "description": "Delete an account and all its transactions (CASCADE)",
        "operationId": "delete_account_api_v1_accounts__account_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "account_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Account Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/accounts/{account_id}/balance": {
      "get": {
        "tags": [
          "Accounts"
        ],
        "summary": "Get account balance",
        "description": "Get current balance for a specific account with metadata",
        "operationId": "get_account_balance_api_v1_accounts__account_id__balance_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "account_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Account Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AccountBalance"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/categories/": {
      "get": {
        "tags": [
          "Categories"
        ],
        "summary": "List categories",
        "description": "Retrieve all categories for a financial profile",
        "operationId": "list_categories_api_v1_categories__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "profile_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "description": "Financial profile ID",
              "title": "Profile Id"
            },
            "description": "Financial profile ID"
          },
          {
            "name": "parent_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by parent category ID (null for root categories)",
              "title": "Parent Id"
            },
            "description": "Filter by parent category ID (null for root categories)"
          },
          {
            "name": "level",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 3,
                  "minimum": 1
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by hierarchy level (1, 2, or 3)",
              "title": "Level"
            },
            "description": "Filter by hierarchy level (1, 2, or 3)"
          },
          {
            "name": "is_active",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Filter by active status",
              "default": true,
              "title": "Is Active"
            },
            "description": "Filter by active status"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CategoryListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/transactions/": {
      "get": {
        "tags": [
          "Transactions",
          "Transactions"
        ],
        "summary": "List transactions",
        "description": "Retrieve transactions with optional filters (profile_id, account_id, category_id, date range)",
        "operationId": "list_transactions_api_v1_transactions__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "profile_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by financial profile ID",
              "title": "Profile Id"
            },
            "description": "Filter by financial profile ID"
          },
          {
            "name": "account_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by account ID",
              "title": "Account Id"
            },
            "description": "Filter by account ID"
          },
          {
            "name": "category_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by category ID",
              "title": "Category Id"
            },
            "description": "Filter by category ID"
          },
          {
            "name": "date_from",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter transactions from this date (inclusive)",
              "title": "Date From"
            },
            "description": "Filter transactions from this date (inclusive)"
          },
          {
            "name": "date_to",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter transactions to this date (inclusive)",
              "title": "Date To"
            },
            "description": "Filter transactions to this date (inclusive)"
          },
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of records to skip",
              "default": 0,
              "title": "Skip"
            },
            "description": "Number of records to skip"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "Maximum number of records to return",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum number of records to return"
          }
        ],
        "responses": {
          "200": {
            "description": "Transactions retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Transactions",
          "Transactions"
        ],
        "summary": "Create transaction",
        "description": "Create a new transaction for a specific account",
        "operationId": "create_transaction_api_v1_transactions__post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TransactionCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Transaction created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionResponse"
                }
              }
            }
          },
          "403": {
            "description": "Not authorized to create transaction for this account"
          },
          "404": {
            "description": "Account not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/transactions/{transaction_id}": {
      "get": {
        "tags": [
          "Transactions",
          "Transactions"
        ],
        "summary": "Get transaction by ID",
        "description": "Retrieve a specific transaction by its ID",
        "operationId": "get_transaction_api_v1_transactions__transaction_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "transaction_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Transaction Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Transaction retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionResponse"
                }
              }
            }
          },
          "404": {
            "description": "Transaction not found"
          },
          "403": {
            "description": "Not authorized to access this transaction"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Transactions",
          "Transactions"
        ],
        "summary": "Update transaction",
        "description": "Update an existing transaction (partial update supported)",
        "operationId": "update_transaction_api_v1_transactions__transaction_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "transaction_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Transaction Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TransactionUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Transaction updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionResponse"
                }
              }
            }
          },
          "404": {
            "description": "Transaction not found"
          },
          "403": {
            "description": "Not authorized to update this transaction"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Transactions",
          "Transactions"
        ],
        "summary": "Delete transaction",
        "description": "Permanently delete a transaction",
        "operationId": "delete_transaction_api_v1_transactions__transaction_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "transaction_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Transaction Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Transaction deleted successfully"
          },
          "404": {
            "description": "Transaction not found"
          },
          "403": {
            "description": "Not authorized to delete this transaction"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/transactions/bulk": {
      "post": {
        "tags": [
          "Transactions",
          "Transactions"
        ],
        "summary": "Bulk create transactions",
        "description": "Create multiple transactions at once (useful for imports)",
        "operationId": "bulk_create_transactions_api_v1_transactions_bulk_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "items": {
                  "$ref": "#/components/schemas/TransactionCreate"
                },
                "type": "array",
                "title": "Transactions In"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Transactions created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionListResponse"
                }
              }
            }
          },
          "403": {
            "description": "Not authorized to create transactions for one or more accounts"
          },
          "404": {
            "description": "One or more accounts not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/transactions/stats": {
      "get": {
        "tags": [
          "Transactions",
          "Transactions"
        ],
        "summary": "Get transaction statistics",
        "description": "Get spending statistics for transactions (total spent, total income, by category)",
        "operationId": "get_transaction_stats_api_v1_transactions_stats_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "profile_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by financial profile ID",
              "title": "Profile Id"
            },
            "description": "Filter by financial profile ID"
          },
          {
            "name": "account_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by account ID",
              "title": "Account Id"
            },
            "description": "Filter by account ID"
          },
          {
            "name": "date_from",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Statistics from this date (inclusive)",
              "title": "Date From"
            },
            "description": "Statistics from this date (inclusive)"
          },
          {
            "name": "date_to",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Statistics to this date (inclusive)",
              "title": "Date To"
            },
            "description": "Statistics to this date (inclusive)"
          }
        ],
        "responses": {
          "200": {
            "description": "Statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/budgets/": {
      "get": {
        "tags": [
          "Budgets",
          "Budgets"
        ],
        "summary": "List budgets",
        "description": "Retrieve all budgets for a financial profile",
        "operationId": "list_budgets_api_v1_budgets__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "profile_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "description": "Financial profile ID",
              "title": "Profile Id"
            },
            "description": "Financial profile ID"
          },
          {
            "name": "include_inactive",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include inactive budgets",
              "default": false,
              "title": "Include Inactive"
            },
            "description": "Include inactive budgets"
          }
        ],
        "responses": {
          "200": {
            "description": "Budgets retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BudgetListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Budgets",
          "Budgets"
        ],
        "summary": "Create budget",
        "description": "Create a new budget for a financial profile",
        "operationId": "create_budget_api_v1_budgets__post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BudgetCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Budget created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BudgetResponse"
                }
              }
            }
          },
          "403": {
            "description": "Not authorized to create budget for this profile"
          },
          "404": {
            "description": "Financial profile not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/budgets/{budget_id}": {
      "get": {
        "tags": [
          "Budgets",
          "Budgets"
        ],
        "summary": "Get budget with usage",
        "description": "Retrieve a specific budget by its ID with current usage statistics",
        "operationId": "get_budget_api_v1_budgets__budget_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "budget_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Budget Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Budget retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BudgetResponse"
                }
              }
            }
          },
          "404": {
            "description": "Budget not found"
          },
          "403": {
            "description": "Not authorized to access this budget"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Budgets",
          "Budgets"
        ],
        "summary": "Update budget",
        "description": "Update an existing budget (partial update supported)",
        "operationId": "update_budget_api_v1_budgets__budget_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "budget_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Budget Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BudgetUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Budget updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BudgetResponse"
                }
              }
            }
          },
          "404": {
            "description": "Budget not found"
          },
          "403": {
            "description": "Not authorized to update this budget"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Budgets",
          "Budgets"
        ],
        "summary": "Delete budget",
        "description": "Delete a budget and all its category allocations",
        "operationId": "delete_budget_api_v1_budgets__budget_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "budget_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Budget Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Budget deleted successfully"
          },
          "404": {
            "description": "Budget not found"
          },
          "403": {
            "description": "Not authorized to delete this budget"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/budgets/{budget_id}/usage": {
      "get": {
        "tags": [
          "Budgets",
          "Budgets"
        ],
        "summary": "Get budget usage stats",
        "description": "Get current usage statistics for a specific budget",
        "operationId": "get_budget_usage_stats_api_v1_budgets__budget_id__usage_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "budget_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Budget Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Usage statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "404": {
            "description": "Budget not found"
          },
          "403": {
            "description": "Not authorized to access this budget"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/goals/": {
      "get": {
        "tags": [
          "Financial Goals",
          "Financial Goals"
        ],
        "summary": "List financial goals",
        "description": "Retrieve all financial goals for a financial profile",
        "operationId": "list_goals_api_v1_goals__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "profile_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "description": "Financial profile ID",
              "title": "Profile Id"
            },
            "description": "Financial profile ID"
          },
          {
            "name": "status_filter",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/GoalStatus"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by goal status",
              "title": "Status Filter"
            },
            "description": "Filter by goal status"
          },
          {
            "name": "include_milestones",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include milestones in response",
              "default": false,
              "title": "Include Milestones"
            },
            "description": "Include milestones in response"
          }
        ],
        "responses": {
          "200": {
            "description": "Goals retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FinancialGoalListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Financial Goals",
          "Financial Goals"
        ],
        "summary": "Create financial goal",
        "description": "Create a new financial goal for a financial profile",
        "operationId": "create_goal_api_v1_goals__post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FinancialGoalCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Goal created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FinancialGoalResponse"
                }
              }
            }
          },
          "403": {
            "description": "Not authorized to create goal for this profile"
          },
          "404": {
            "description": "Financial profile not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/goals/{goal_id}": {
      "get": {
        "tags": [
          "Financial Goals",
          "Financial Goals"
        ],
        "summary": "Get financial goal with milestones",
        "description": "Retrieve a specific financial goal by its ID with all milestones",
        "operationId": "get_goal_api_v1_goals__goal_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "goal_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Goal Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Goal retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FinancialGoalResponse"
                }
              }
            }
          },
          "404": {
            "description": "Goal not found"
          },
          "403": {
            "description": "Not authorized to access this goal"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Financial Goals",
          "Financial Goals"
        ],
        "summary": "Update financial goal",
        "description": "Update an existing financial goal (partial update supported)",
        "operationId": "update_goal_api_v1_goals__goal_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "goal_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Goal Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FinancialGoalUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Goal updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FinancialGoalResponse"
                }
              }
            }
          },
          "404": {
            "description": "Goal not found"
          },
          "403": {
            "description": "Not authorized to update this goal"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Financial Goals",
          "Financial Goals"
        ],
        "summary": "Delete financial goal",
        "description": "Delete a financial goal and all its milestones",
        "operationId": "delete_goal_api_v1_goals__goal_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "goal_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Goal Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Goal deleted successfully"
          },
          "404": {
            "description": "Goal not found"
          },
          "403": {
            "description": "Not authorized to delete this goal"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/goals/{goal_id}/milestones": {
      "post": {
        "tags": [
          "Financial Goals",
          "Financial Goals"
        ],
        "summary": "Add milestone to goal",
        "description": "Create a new milestone for a financial goal",
        "operationId": "add_milestone_api_v1_goals__goal_id__milestones_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "goal_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Goal Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GoalMilestoneCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Milestone created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GoalMilestoneResponse"
                }
              }
            }
          },
          "404": {
            "description": "Goal not found"
          },
          "403": {
            "description": "Not authorized to add milestone to this goal"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/goals/{goal_id}/milestones/{milestone_id}": {
      "patch": {
        "tags": [
          "Financial Goals",
          "Financial Goals"
        ],
        "summary": "Update milestone",
        "description": "Update a goal milestone (partial update supported)",
        "operationId": "update_milestone_api_v1_goals__goal_id__milestones__milestone_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "goal_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Goal Id"
            }
          },
          {
            "name": "milestone_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Milestone Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GoalMilestoneUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Milestone updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GoalMilestoneResponse"
                }
              }
            }
          },
          "404": {
            "description": "Milestone or goal not found"
          },
          "403": {
            "description": "Not authorized to update this milestone"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/goals/{goal_id}/complete": {
      "post": {
        "tags": [
          "Financial Goals",
          "Financial Goals"
        ],
        "summary": "Mark goal as completed",
        "description": "Mark a financial goal as completed",
        "operationId": "complete_goal_api_v1_goals__goal_id__complete_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "goal_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Goal Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Goal marked as completed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FinancialGoalResponse"
                }
              }
            }
          },
          "404": {
            "description": "Goal not found"
          },
          "403": {
            "description": "Not authorized to complete this goal"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ai/ai/classify/transaction": {
      "post": {
        "tags": [
          "AI Services",
          "AI Services"
        ],
        "summary": "Classify a transaction",
        "description": "Use ML to classify a transaction into a category",
        "operationId": "classify_transaction_api_v1_ai_ai_classify_transaction_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ClassificationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClassificationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/ai/ai/classify/train": {
      "post": {
        "tags": [
          "AI Services",
          "AI Services"
        ],
        "summary": "Train user classification model",
        "description": "Train or retrain the user's personalized classification model",
        "operationId": "train_classification_model_api_v1_ai_ai_classify_train_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TrainModelRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TrainModelResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/ai/ai/classify/metrics/{financial_profile_id}": {
      "get": {
        "tags": [
          "AI Services",
          "AI Services"
        ],
        "summary": "Get classification metrics",
        "description": "Get performance metrics for the classification model",
        "operationId": "get_classification_metrics_api_v1_ai_ai_classify_metrics__financial_profile_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "financial_profile_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Financial Profile Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClassificationMetrics"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ai/ai/classify/suggest-tags/{transaction_id}": {
      "get": {
        "tags": [
          "AI Services",
          "AI Services"
        ],
        "summary": "Suggest tags for transaction",
        "description": "Get AI-suggested tags for a transaction",
        "operationId": "suggest_tags_api_v1_ai_ai_classify_suggest_tags__transaction_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "transaction_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Transaction Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/SuggestedTag"
                  },
                  "title": "Response Suggest Tags Api V1 Ai Ai Classify Suggest Tags  Transaction Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ai/ai/forecast/cashflow": {
      "post": {
        "tags": [
          "AI Services",
          "AI Services"
        ],
        "summary": "Forecast cash flow",
        "description": "Generate cash flow forecast with multiple scenarios",
        "operationId": "forecast_cashflow_api_v1_ai_ai_forecast_cashflow_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForecastRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForecastResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/ai/ai/chat/message": {
      "post": {
        "tags": [
          "AI Services",
          "AI Services"
        ],
        "summary": "Send chat message",
        "description": "Send a message to the AI assistant and get a response",
        "operationId": "send_chat_message_api_v1_ai_ai_chat_message_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChatMessageRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatMessageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/ai/ai/chat/conversations": {
      "get": {
        "tags": [
          "AI Services",
          "AI Services"
        ],
        "summary": "List conversations",
        "description": "Get list of user's chat conversations",
        "operationId": "list_conversations_api_v1_ai_ai_chat_conversations_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ConversationListItem"
                  },
                  "type": "array",
                  "title": "Response List Conversations Api V1 Ai Ai Chat Conversations Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/ai/ai/chat/conversations/{conversation_id}": {
      "get": {
        "tags": [
          "AI Services",
          "AI Services"
        ],
        "summary": "Get conversation details",
        "description": "Get detailed conversation with all messages",
        "operationId": "get_conversation_api_v1_ai_ai_chat_conversations__conversation_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Conversation Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "AI Services",
          "AI Services"
        ],
        "summary": "Delete conversation",
        "description": "Delete a chat conversation",
        "operationId": "delete_conversation_api_v1_ai_ai_chat_conversations__conversation_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Conversation Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ai/ai/optimize/insights": {
      "post": {
        "tags": [
          "AI Services",
          "AI Services"
        ],
        "summary": "Get optimization insights",
        "description": "Get AI-powered financial optimization insights",
        "operationId": "get_optimization_insights_api_v1_ai_ai_optimize_insights_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OptimizationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OptimizationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/ai/ai/optimize/patterns/{financial_profile_id}": {
      "get": {
        "tags": [
          "AI Services",
          "AI Services"
        ],
        "summary": "Get spending patterns",
        "description": "Get detected spending patterns",
        "operationId": "get_spending_patterns_api_v1_ai_ai_optimize_patterns__financial_profile_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "financial_profile_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Financial Profile Id"
            }
          },
          {
            "name": "lookback_days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 90,
              "title": "Lookback Days"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SpendingPatternsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ai/ai/optimize/savings-summary/{financial_profile_id}": {
      "get": {
        "tags": [
          "AI Services",
          "AI Services"
        ],
        "summary": "Get savings summary",
        "description": "Get summary of potential savings",
        "operationId": "get_savings_summary_api_v1_ai_ai_optimize_savings_summary__financial_profile_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "financial_profile_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Financial Profile Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SavingsSummary"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ai/ai/status": {
      "get": {
        "tags": [
          "AI Services",
          "AI Services"
        ],
        "summary": "Get AI services status",
        "description": "Get status of all AI services",
        "operationId": "get_ai_status_api_v1_ai_ai_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AIServiceStatus"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "AIServiceStatus": {
        "properties": {
          "classification_available": {
            "type": "boolean",
            "title": "Classification Available"
          },
          "forecasting_available": {
            "type": "boolean",
            "title": "Forecasting Available"
          },
          "chat_available": {
            "type": "boolean",
            "title": "Chat Available"
          },
          "optimization_available": {
            "type": "boolean",
            "title": "Optimization Available"
          },
          "model_version": {
            "type": "string",
            "title": "Model Version"
          },
          "last_updated": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Updated"
          }
        },
        "type": "object",
        "required": [
          "classification_available",
          "forecasting_available",
          "chat_available",
          "optimization_available",
          "model_version"
        ],
        "title": "AIServiceStatus",
        "description": "Status of AI services"
      },
      "AccountBalance": {
        "properties": {
          "account_id": {
            "type": "string",
            "format": "uuid",
            "title": "Account Id",
            "description": "Account ID"
          },
          "balance": {
            "type": "string",
            "title": "Balance",
            "description": "Current account balance"
          },
          "currency": {
            "type": "string",
            "title": "Currency",
            "description": "Account currency"
          },
          "last_updated": {
            "type": "string",
            "format": "date-time",
            "title": "Last Updated",
            "description": "Last transaction timestamp"
          }
        },
        "type": "object",
        "required": [
          "account_id",
          "balance",
          "currency",
          "last_updated"
        ],
        "title": "AccountBalance",
        "description": "Schema for account balance endpoint response.\nReturns current balance with metadata.",
        "example": {
          "account_id": "550e8400-e29b-41d4-a716-446655440050",
          "balance": 1250.5,
          "currency": "EUR",
          "last_updated": "2025-01-20T14:22:00Z"
        }
      },
      "AccountCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name",
            "description": "Account name",
            "examples": [
              "Main Checking Account",
              "Savings",
              "Credit Card"
            ]
          },
          "account_type": {
            "$ref": "#/components/schemas/AccountType",
            "description": "Type of account (checking, savings, credit_card, etc.)",
            "default": "checking"
          },
          "currency": {
            "type": "string",
            "pattern": "^[A-Z]{3}$",
            "title": "Currency",
            "description": "ISO 4217 currency code (3 uppercase letters)",
            "default": "EUR",
            "examples": [
              "EUR",
              "USD",
              "GBP"
            ]
          },
          "institution_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Institution Name",
            "description": "Name of the financial institution"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Additional notes about the account"
          },
          "financial_profile_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Financial Profile Id",
            "description": "ID of the financial profile this account belongs to (optional, defaults to user's default profile)"
          },
          "initial_balance": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string"
              }
            ],
            "title": "Initial Balance",
            "description": "Initial account balance",
            "default": "0.00",
            "examples": [
              0,
              1000.5,
              5000
            ]
          },
          "account_number": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Account Number",
            "description": "Account number (will be encrypted in production)"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "AccountCreate",
        "description": "Schema for creating a new account.\nfinancial_profile_id is optional - if not provided, the user's default profile will be used.",
        "example": {
          "account_type": "savings",
          "currency": "EUR",
          "financial_profile_id": "550e8400-e29b-41d4-a716-446655440000",
          "initial_balance": 1000.0,
          "institution_name": "My Bank",
          "name": "Savings Account",
          "notes": "Primary savings account"
        }
      },
      "AccountList": {
        "properties": {
          "accounts": {
            "items": {
              "$ref": "#/components/schemas/AccountResponse"
            },
            "type": "array",
            "title": "Accounts",
            "description": "List of accounts"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of accounts"
          }
        },
        "type": "object",
        "required": [
          "accounts",
          "total"
        ],
        "title": "AccountList",
        "description": "Schema for list accounts response with pagination.",
        "example": {
          "accounts": [
            {
              "account_type": "checking",
              "created_at": "2025-01-15T10:30:00Z",
              "currency": "EUR",
              "current_balance": 1250.5,
              "financial_profile_id": "550e8400-e29b-41d4-a716-446655440000",
              "id": "550e8400-e29b-41d4-a716-446655440050",
              "initial_balance": 1000.0,
              "institution_name": "My Bank",
              "is_active": true,
              "name": "Main Checking",
              "updated_at": "2025-01-20T14:22:00Z"
            }
          ],
          "total": 1
        }
      },
      "AccountResponse": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name",
            "description": "Account name",
            "examples": [
              "Main Checking Account",
              "Savings",
              "Credit Card"
            ]
          },
          "account_type": {
            "$ref": "#/components/schemas/AccountType",
            "description": "Type of account (checking, savings, credit_card, etc.)",
            "default": "checking"
          },
          "currency": {
            "type": "string",
            "pattern": "^[A-Z]{3}$",
            "title": "Currency",
            "description": "ISO 4217 currency code (3 uppercase letters)",
            "default": "EUR",
            "examples": [
              "EUR",
              "USD",
              "GBP"
            ]
          },
          "institution_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Institution Name",
            "description": "Name of the financial institution"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Additional notes about the account"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique account identifier"
          },
          "financial_profile_id": {
            "type": "string",
            "format": "uuid",
            "title": "Financial Profile Id",
            "description": "ID of the financial profile this account belongs to"
          },
          "initial_balance": {
            "type": "string",
            "title": "Initial Balance",
            "description": "Initial balance when account was created"
          },
          "current_balance": {
            "type": "string",
            "title": "Current Balance",
            "description": "Current balance (initial + transactions)"
          },
          "account_number": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Account Number",
            "description": "Account number (encrypted)"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether the account is currently active",
            "default": true
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Account creation timestamp (UTC)"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp (UTC)"
          }
        },
        "type": "object",
        "required": [
          "name",
          "id",
          "financial_profile_id",
          "initial_balance",
          "current_balance",
          "created_at",
          "updated_at"
        ],
        "title": "AccountResponse",
        "description": "Complete account schema returned by API endpoints.\nIncludes all fields including computed current_balance.",
        "example": {
          "account_type": "checking",
          "created_at": "2025-01-15T10:30:00Z",
          "currency": "EUR",
          "current_balance": 1250.5,
          "financial_profile_id": "550e8400-e29b-41d4-a716-446655440000",
          "id": "550e8400-e29b-41d4-a716-446655440050",
          "initial_balance": 1000.0,
          "institution_name": "My Bank",
          "is_active": true,
          "name": "Main Checking Account",
          "notes": "Primary checking account",
          "updated_at": "2025-01-20T14:22:00Z"
        }
      },
      "AccountType": {
        "type": "string",
        "enum": [
          "checking",
          "savings",
          "credit_card",
          "investment",
          "cash",
          "loan",
          "other"
        ],
        "title": "AccountType",
        "description": "Types of financial accounts"
      },
      "AccountUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Updated account name"
          },
          "account_type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/AccountType"
              },
              {
                "type": "null"
              }
            ],
            "description": "Updated account type"
          },
          "currency": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^[A-Z]{3}$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Currency",
            "description": "Updated currency code"
          },
          "institution_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Institution Name",
            "description": "Updated institution name"
          },
          "account_number": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Account Number",
            "description": "Updated account number"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Updated notes"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active",
            "description": "Whether the account is active"
          }
        },
        "type": "object",
        "title": "AccountUpdate",
        "description": "Schema for updating an existing account.\nAll fields are optional (partial update).",
        "example": {
          "institution_name": "New Bank",
          "name": "Updated Account Name"
        }
      },
      "BudgetCategoryAllocation": {
        "properties": {
          "category_id": {
            "type": "string",
            "format": "uuid",
            "title": "Category Id",
            "description": "Category identifier"
          },
          "category_name": {
            "type": "string",
            "title": "Category Name",
            "description": "Category name"
          },
          "allocated_amount": {
            "type": "string",
            "title": "Allocated Amount",
            "description": "Amount allocated to this category"
          }
        },
        "type": "object",
        "required": [
          "category_id",
          "category_name",
          "allocated_amount"
        ],
        "title": "BudgetCategoryAllocation",
        "description": "Schema for category allocation within a budget.\nShows how budget amount is distributed across categories.",
        "example": {
          "allocated_amount": 500.0,
          "category_id": "550e8400-e29b-41d4-a716-446655440020",
          "category_name": "Groceries"
        }
      },
      "BudgetCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "Budget name",
            "examples": [
              "Monthly Expenses",
              "Q1 2025 Budget",
              "Annual Vacation Fund"
            ]
          },
          "period_type": {
            "$ref": "#/components/schemas/PeriodType",
            "description": "Type of budget period (monthly, quarterly, yearly, custom)"
          },
          "start_date": {
            "type": "string",
            "format": "date",
            "title": "Start Date",
            "description": "Start date of the budget period"
          },
          "end_date": {
            "type": "string",
            "format": "date",
            "title": "End Date",
            "description": "End date of the budget period"
          },
          "amount": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "string"
              }
            ],
            "title": "Amount",
            "description": "Total budget amount (must be positive)",
            "examples": [
              1000.0,
              5000.0,
              50000.0
            ]
          },
          "currency": {
            "type": "string",
            "pattern": "^[A-Z]{3}$",
            "title": "Currency",
            "description": "ISO 4217 currency code (3 uppercase letters)",
            "examples": [
              "EUR",
              "USD",
              "GBP"
            ]
          },
          "financial_profile_id": {
            "type": "string",
            "format": "uuid",
            "title": "Financial Profile Id",
            "description": "ID of the financial profile this budget belongs to"
          },
          "category_ids": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "minItems": 1,
            "title": "Category Ids",
            "description": "List of category IDs to assign to this budget"
          },
          "alert_threshold_percentage": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "string"
              }
            ],
            "title": "Alert Threshold Percentage",
            "description": "Percentage of budget to trigger alerts (0-100)",
            "default": "80.00"
          }
        },
        "type": "object",
        "required": [
          "name",
          "period_type",
          "start_date",
          "end_date",
          "amount",
          "currency",
          "financial_profile_id",
          "category_ids"
        ],
        "title": "BudgetCreate",
        "description": "Schema for creating a new budget.\nRequires financial_profile_id and category allocations.",
        "example": {
          "alert_threshold_percentage": 80.0,
          "amount": 2000.0,
          "category_ids": [
            "550e8400-e29b-41d4-a716-446655440020",
            "550e8400-e29b-41d4-a716-446655440021"
          ],
          "currency": "EUR",
          "end_date": "2025-01-31",
          "financial_profile_id": "550e8400-e29b-41d4-a716-446655440000",
          "name": "Monthly Expenses January 2025",
          "period_type": "monthly",
          "start_date": "2025-01-01"
        }
      },
      "BudgetListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/BudgetResponse"
            },
            "type": "array",
            "title": "Items",
            "description": "List of budgets"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of budgets"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total"
        ],
        "title": "BudgetListResponse",
        "description": "Schema for list budgets response with pagination support.",
        "example": {
          "items": [
            {
              "alert_threshold_percentage": 80.0,
              "amount": 2000.0,
              "created_at": "2025-01-01T00:00:00Z",
              "currency": "EUR",
              "current_usage": 1250.0,
              "end_date": "2025-01-31",
              "financial_profile_id": "550e8400-e29b-41d4-a716-446655440000",
              "id": "550e8400-e29b-41d4-a716-446655440030",
              "is_active": true,
              "name": "Monthly Expenses January 2025",
              "period_type": "monthly",
              "remaining_amount": 750.0,
              "start_date": "2025-01-01",
              "updated_at": "2025-01-15T10:30:00Z",
              "usage_percentage": 62.5
            }
          ],
          "total": 1
        }
      },
      "BudgetResponse": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "Budget name",
            "examples": [
              "Monthly Expenses",
              "Q1 2025 Budget",
              "Annual Vacation Fund"
            ]
          },
          "period_type": {
            "$ref": "#/components/schemas/PeriodType",
            "description": "Type of budget period (monthly, quarterly, yearly, custom)"
          },
          "start_date": {
            "type": "string",
            "format": "date",
            "title": "Start Date",
            "description": "Start date of the budget period"
          },
          "end_date": {
            "type": "string",
            "format": "date",
            "title": "End Date",
            "description": "End date of the budget period"
          },
          "amount": {
            "type": "string",
            "title": "Amount",
            "description": "Total budget amount (must be positive)",
            "examples": [
              1000.0,
              5000.0,
              50000.0
            ]
          },
          "currency": {
            "type": "string",
            "pattern": "^[A-Z]{3}$",
            "title": "Currency",
            "description": "ISO 4217 currency code (3 uppercase letters)",
            "examples": [
              "EUR",
              "USD",
              "GBP"
            ]
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique budget identifier"
          },
          "financial_profile_id": {
            "type": "string",
            "format": "uuid",
            "title": "Financial Profile Id",
            "description": "ID of the financial profile this budget belongs to"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether the budget is currently active",
            "default": true
          },
          "alert_threshold_percentage": {
            "type": "string",
            "title": "Alert Threshold Percentage",
            "description": "Percentage of budget to trigger alerts"
          },
          "current_usage": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Usage",
            "description": "Current spending against this budget (computed from transactions)"
          },
          "usage_percentage": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Usage Percentage",
            "description": "Percentage of budget used (computed)"
          },
          "remaining_amount": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Remaining Amount",
            "description": "Remaining budget amount (computed)"
          },
          "category_allocations": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/BudgetCategoryAllocation"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category Allocations",
            "description": "Category allocations for this budget"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Budget creation timestamp (UTC)"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp (UTC)"
          }
        },
        "type": "object",
        "required": [
          "name",
          "period_type",
          "start_date",
          "end_date",
          "amount",
          "currency",
          "id",
          "financial_profile_id",
          "alert_threshold_percentage",
          "created_at",
          "updated_at"
        ],
        "title": "BudgetResponse",
        "description": "Complete budget schema returned by API endpoints.\nIncludes all fields, current usage, and category allocations.",
        "example": {
          "alert_threshold_percentage": 80.0,
          "amount": 2000.0,
          "category_allocations": [
            {
              "allocated_amount": 500.0,
              "category_id": "550e8400-e29b-41d4-a716-446655440020",
              "category_name": "Groceries"
            }
          ],
          "created_at": "2025-01-01T00:00:00Z",
          "currency": "EUR",
          "current_usage": 1250.0,
          "end_date": "2025-01-31",
          "financial_profile_id": "550e8400-e29b-41d4-a716-446655440000",
          "id": "550e8400-e29b-41d4-a716-446655440030",
          "is_active": true,
          "name": "Monthly Expenses January 2025",
          "period_type": "monthly",
          "remaining_amount": 750.0,
          "start_date": "2025-01-01",
          "updated_at": "2025-01-15T10:30:00Z",
          "usage_percentage": 62.5
        }
      },
      "BudgetUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Updated budget name"
          },
          "period_type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/PeriodType"
              },
              {
                "type": "null"
              }
            ],
            "description": "Updated period type"
          },
          "start_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Date",
            "description": "Updated start date"
          },
          "end_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Date",
            "description": "Updated end date"
          },
          "amount": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Amount",
            "description": "Updated budget amount"
          },
          "currency": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^[A-Z]{3}$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Currency",
            "description": "Updated currency code"
          },
          "category_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string",
                  "format": "uuid"
                },
                "type": "array",
                "minItems": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Category Ids",
            "description": "Updated list of category IDs"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active",
            "description": "Whether the budget is active"
          },
          "alert_threshold_percentage": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Alert Threshold Percentage",
            "description": "Updated alert threshold percentage"
          }
        },
        "type": "object",
        "title": "BudgetUpdate",
        "description": "Schema for updating an existing budget.\nAll fields are optional (partial update).",
        "example": {
          "alert_threshold_percentage": 85.0,
          "amount": 2500.0,
          "name": "Updated Budget Name"
        }
      },
      "CategoryListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/CategoryResponse"
            },
            "type": "array",
            "title": "Items",
            "description": "List of categories"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of categories"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total"
        ],
        "title": "CategoryListResponse",
        "description": "Schema for list categories response with pagination support.",
        "example": {
          "items": [
            {
              "color": "#FF5733",
              "created_at": "2025-01-15T10:30:00Z",
              "description": "Food and household items",
              "financial_profile_id": "550e8400-e29b-41d4-a716-446655440000",
              "full_path": "Groceries",
              "icon": "",
              "id": "550e8400-e29b-41d4-a716-446655440020",
              "is_active": true,
              "is_system": false,
              "level": 1,
              "name": "Groceries",
              "updated_at": "2025-01-15T10:30:00Z"
            }
          ],
          "total": 1
        }
      },
      "CategoryResponse": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name",
            "description": "Category name",
            "examples": [
              "Groceries",
              "Utilities",
              "Entertainment"
            ]
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Optional description of the category"
          },
          "icon": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Icon",
            "description": "Icon identifier (emoji or icon name)",
            "examples": [
              "",
              "",
              ""
            ]
          },
          "color": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^#[0-9A-Fa-f]{6}$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Color",
            "description": "Hex color code for UI display",
            "examples": [
              "#FF5733",
              "#3498DB",
              "#2ECC71"
            ]
          },
          "parent_category_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Category Id",
            "description": "ID of parent category (null for root categories)"
          },
          "level": {
            "type": "integer",
            "maximum": 3.0,
            "minimum": 1.0,
            "title": "Level",
            "description": "Hierarchy level (1, 2, or 3)"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique category identifier"
          },
          "financial_profile_id": {
            "type": "string",
            "format": "uuid",
            "title": "Financial Profile Id",
            "description": "ID of the financial profile this category belongs to"
          },
          "full_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Path",
            "description": "Full hierarchical path (e.g., 'Groceries > Fresh Food > Fruits')"
          },
          "is_system": {
            "type": "boolean",
            "title": "Is System",
            "description": "System categories cannot be deleted by users",
            "default": false
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether the category is currently active",
            "default": true
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Category creation timestamp (UTC)"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp (UTC)"
          },
          "subcategories": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/CategoryResponse"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subcategories",
            "description": "Child categories (for hierarchical display)"
          }
        },
        "type": "object",
        "required": [
          "name",
          "level",
          "id",
          "financial_profile_id",
          "created_at",
          "updated_at"
        ],
        "title": "CategoryResponse",
        "description": "Complete category schema returned by API endpoints.\nIncludes all fields and optional subcategories for tree view.",
        "example": {
          "color": "#FF5733",
          "created_at": "2025-01-15T10:30:00Z",
          "description": "Food and household items",
          "financial_profile_id": "550e8400-e29b-41d4-a716-446655440000",
          "full_path": "Groceries",
          "icon": "",
          "id": "550e8400-e29b-41d4-a716-446655440020",
          "is_active": true,
          "is_system": false,
          "level": 1,
          "name": "Groceries",
          "subcategories": [],
          "updated_at": "2025-01-15T10:30:00Z"
        }
      },
      "ChatMessageRequest": {
        "properties": {
          "message": {
            "type": "string",
            "maxLength": 2000,
            "minLength": 1,
            "title": "Message"
          },
          "financial_profile_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Financial Profile Id"
          },
          "conversation_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Conversation Id"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "ChatMessageRequest",
        "description": "Request to send a chat message"
      },
      "ChatMessageResponse": {
        "properties": {
          "conversation_id": {
            "type": "string",
            "format": "uuid",
            "title": "Conversation Id"
          },
          "message_id": {
            "type": "string",
            "format": "uuid",
            "title": "Message Id"
          },
          "content": {
            "type": "string",
            "title": "Content"
          },
          "metadata": {
            "type": "object",
            "title": "Metadata"
          },
          "intent": {
            "$ref": "#/components/schemas/QueryIntentEnum"
          }
        },
        "type": "object",
        "required": [
          "conversation_id",
          "message_id",
          "content",
          "intent"
        ],
        "title": "ChatMessageResponse",
        "description": "Response from chat assistant"
      },
      "ClassificationMetrics": {
        "properties": {
          "total_classifications": {
            "type": "integer",
            "title": "Total Classifications"
          },
          "acceptance_rate": {
            "type": "number",
            "title": "Acceptance Rate"
          },
          "average_confidence": {
            "type": "number",
            "title": "Average Confidence"
          },
          "model_version": {
            "type": "string",
            "title": "Model Version"
          }
        },
        "type": "object",
        "required": [
          "total_classifications",
          "acceptance_rate",
          "average_confidence",
          "model_version"
        ],
        "title": "ClassificationMetrics",
        "description": "Classification performance metrics"
      },
      "ClassificationRequest": {
        "properties": {
          "transaction_id": {
            "type": "string",
            "format": "uuid",
            "title": "Transaction Id"
          },
          "auto_apply": {
            "type": "boolean",
            "title": "Auto Apply",
            "description": "Automatically apply classification if confidence is high",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "transaction_id"
        ],
        "title": "ClassificationRequest",
        "description": "Request to classify a transaction"
      },
      "ClassificationResponse": {
        "properties": {
          "transaction_id": {
            "type": "string",
            "format": "uuid",
            "title": "Transaction Id"
          },
          "predicted_category_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Predicted Category Id"
          },
          "predicted_category_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Predicted Category Name"
          },
          "confidence_score": {
            "type": "number",
            "title": "Confidence Score"
          },
          "explanation": {
            "type": "string",
            "title": "Explanation"
          },
          "was_applied": {
            "type": "boolean",
            "title": "Was Applied"
          }
        },
        "type": "object",
        "required": [
          "transaction_id",
          "predicted_category_id",
          "predicted_category_name",
          "confidence_score",
          "explanation",
          "was_applied"
        ],
        "title": "ClassificationResponse",
        "description": "Response from classification"
      },
      "ConversationDetail": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "financial_profile_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Financial Profile Id"
          },
          "messages": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "title": "Messages"
          }
        },
        "type": "object",
        "required": [
          "id",
          "title",
          "created_at",
          "updated_at",
          "financial_profile_id",
          "messages"
        ],
        "title": "ConversationDetail",
        "description": "Detailed conversation with messages"
      },
      "ConversationListItem": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "message_count": {
            "type": "integer",
            "title": "Message Count"
          },
          "financial_profile_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Financial Profile Id"
          }
        },
        "type": "object",
        "required": [
          "id",
          "title",
          "created_at",
          "updated_at",
          "message_count",
          "financial_profile_id"
        ],
        "title": "ConversationListItem",
        "description": "A conversation in the list"
      },
      "DatabaseType": {
        "type": "string",
        "enum": [
          "postgresql",
          "mssql"
        ],
        "title": "DatabaseType",
        "description": "Supported database types for distributed storage"
      },
      "FinancialGoalCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "Goal name",
            "examples": [
              "New House Down Payment",
              "Dream Vacation",
              "Emergency Fund"
            ]
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Detailed description of the goal"
          },
          "goal_type": {
            "$ref": "#/components/schemas/GoalType",
            "description": "Type of goal (house, car, vacation, retirement, etc.)"
          },
          "target_amount": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "string"
              }
            ],
            "title": "Target Amount",
            "description": "Target amount to achieve (must be positive)",
            "examples": [
              50000.0,
              10000.0,
              100000.0
            ]
          },
          "target_date": {
            "type": "string",
            "format": "date",
            "title": "Target Date",
            "description": "Target date to achieve the goal"
          },
          "priority": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 1.0,
            "title": "Priority",
            "description": "Priority level (1-10, where 10 is highest priority)",
            "default": 5
          },
          "financial_profile_id": {
            "type": "string",
            "format": "uuid",
            "title": "Financial Profile Id",
            "description": "ID of the financial profile this goal belongs to"
          },
          "current_amount": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "string"
              }
            ],
            "title": "Current Amount",
            "description": "Initial amount already saved towards this goal",
            "default": "0.00"
          }
        },
        "type": "object",
        "required": [
          "name",
          "goal_type",
          "target_amount",
          "target_date",
          "financial_profile_id"
        ],
        "title": "FinancialGoalCreate",
        "description": "Schema for creating a new financial goal.\nRequires financial_profile_id to associate with a profile.",
        "example": {
          "current_amount": 5000.0,
          "description": "Save for 20% down payment on new house",
          "financial_profile_id": "550e8400-e29b-41d4-a716-446655440000",
          "goal_type": "house",
          "name": "New House Down Payment",
          "priority": 9,
          "target_amount": 50000.0,
          "target_date": "2026-12-31"
        }
      },
      "FinancialGoalListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/FinancialGoalResponse"
            },
            "type": "array",
            "title": "Items",
            "description": "List of financial goals"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of goals"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total"
        ],
        "title": "FinancialGoalListResponse",
        "description": "Schema for list financial goals response with pagination support.",
        "example": {
          "items": [
            {
              "achievement_probability": 85.5,
              "created_at": "2025-01-01T00:00:00Z",
              "current_amount": 15000.0,
              "description": "Save for 20% down payment",
              "financial_profile_id": "550e8400-e29b-41d4-a716-446655440000",
              "gamification_points": 150,
              "goal_type": "house",
              "id": "550e8400-e29b-41d4-a716-446655440040",
              "monthly_contribution": 1750.0,
              "name": "New House Down Payment",
              "priority": 9,
              "progress_percentage": 30.0,
              "remaining_amount": 35000.0,
              "status": "active",
              "target_amount": 50000.0,
              "target_date": "2026-12-31",
              "updated_at": "2025-01-15T10:30:00Z"
            }
          ],
          "total": 1
        }
      },
      "FinancialGoalResponse": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "Goal name",
            "examples": [
              "New House Down Payment",
              "Dream Vacation",
              "Emergency Fund"
            ]
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Detailed description of the goal"
          },
          "goal_type": {
            "$ref": "#/components/schemas/GoalType",
            "description": "Type of goal (house, car, vacation, retirement, etc.)"
          },
          "target_amount": {
            "type": "string",
            "title": "Target Amount",
            "description": "Target amount to achieve (must be positive)",
            "examples": [
              50000.0,
              10000.0,
              100000.0
            ]
          },
          "target_date": {
            "type": "string",
            "format": "date",
            "title": "Target Date",
            "description": "Target date to achieve the goal"
          },
          "priority": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 1.0,
            "title": "Priority",
            "description": "Priority level (1-10, where 10 is highest priority)",
            "default": 5
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique goal identifier"
          },
          "financial_profile_id": {
            "type": "string",
            "format": "uuid",
            "title": "Financial Profile Id",
            "description": "ID of the financial profile this goal belongs to"
          },
          "current_amount": {
            "type": "string",
            "title": "Current Amount",
            "description": "Current amount saved towards this goal"
          },
          "monthly_contribution": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Monthly Contribution",
            "description": "Recommended monthly contribution to reach goal on time"
          },
          "status": {
            "$ref": "#/components/schemas/GoalStatus",
            "description": "Current goal status (active, paused, completed, cancelled)"
          },
          "achievement_probability": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Achievement Probability",
            "description": "ML-predicted probability of achieving goal (0-100%)"
          },
          "gamification_points": {
            "type": "integer",
            "title": "Gamification Points",
            "description": "Points earned for progress on this goal",
            "default": 0
          },
          "milestones": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/GoalMilestoneResponse"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Milestones",
            "description": "Milestones for this goal"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Goal creation timestamp (UTC)"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp (UTC)"
          },
          "progress_percentage": {
            "type": "string",
            "title": "Progress Percentage",
            "description": "Calculate progress towards goal as percentage.\nReturns 0 if target_amount is 0.",
            "readOnly": true
          },
          "remaining_amount": {
            "type": "string",
            "title": "Remaining Amount",
            "description": "Calculate remaining amount to reach goal.",
            "readOnly": true
          }
        },
        "type": "object",
        "required": [
          "name",
          "goal_type",
          "target_amount",
          "target_date",
          "id",
          "financial_profile_id",
          "current_amount",
          "status",
          "created_at",
          "updated_at",
          "progress_percentage",
          "remaining_amount"
        ],
        "title": "FinancialGoalResponse",
        "description": "Complete financial goal schema returned by API endpoints.\nIncludes all fields, computed progress, and optional milestones.",
        "example": {
          "achievement_probability": 85.5,
          "created_at": "2025-01-01T00:00:00Z",
          "current_amount": 15000.0,
          "description": "Save for 20% down payment on new house",
          "financial_profile_id": "550e8400-e29b-41d4-a716-446655440000",
          "gamification_points": 150,
          "goal_type": "house",
          "id": "550e8400-e29b-41d4-a716-446655440040",
          "milestones": [
            {
              "completed_at": "2025-06-15T14:30:00Z",
              "created_at": "2025-01-01T00:00:00Z",
              "goal_id": "550e8400-e29b-41d4-a716-446655440040",
              "id": "550e8400-e29b-41d4-a716-446655440041",
              "is_completed": true,
              "name": "First 10k saved",
              "target_amount": 10000.0,
              "target_date": "2025-06-30"
            }
          ],
          "monthly_contribution": 1750.0,
          "name": "New House Down Payment",
          "priority": 9,
          "progress_percentage": 30.0,
          "remaining_amount": 35000.0,
          "status": "active",
          "target_amount": 50000.0,
          "target_date": "2026-12-31",
          "updated_at": "2025-01-15T10:30:00Z"
        }
      },
      "FinancialGoalUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Updated goal name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Updated description"
          },
          "goal_type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/GoalType"
              },
              {
                "type": "null"
              }
            ],
            "description": "Updated goal type"
          },
          "target_amount": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Amount",
            "description": "Updated target amount"
          },
          "current_amount": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Amount",
            "description": "Updated current saved amount (for manual updates)"
          },
          "target_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Date",
            "description": "Updated target date"
          },
          "priority": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 10.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Priority",
            "description": "Updated priority level"
          },
          "status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/GoalStatus"
              },
              {
                "type": "null"
              }
            ],
            "description": "Updated goal status"
          }
        },
        "type": "object",
        "title": "FinancialGoalUpdate",
        "description": "Schema for updating an existing financial goal.\nAll fields are optional (partial update).",
        "example": {
          "current_amount": 7500.0,
          "priority": 10,
          "status": "active"
        }
      },
      "FinancialProfileCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name",
            "description": "Financial profile name",
            "examples": [
              "Personal Finance",
              "Family Budget",
              "Business Expenses"
            ]
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Optional description of the financial profile"
          },
          "profile_type": {
            "$ref": "#/components/schemas/ProfileType",
            "description": "Type of financial profile (personal, family, business)",
            "default": "personal"
          },
          "default_currency": {
            "type": "string",
            "pattern": "^[A-Z]{3}$",
            "title": "Default Currency",
            "description": "ISO 4217 currency code (3 uppercase letters)",
            "default": "EUR",
            "examples": [
              "EUR",
              "USD",
              "GBP"
            ]
          },
          "database_connection_string": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Database Connection String",
            "description": "Connection string for distributed database (will be encrypted)"
          },
          "database_type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/DatabaseType"
              },
              {
                "type": "null"
              }
            ],
            "description": "Type of database for distributed storage (PostgreSQL, MSSQL)"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "FinancialProfileCreate",
        "description": "Schema for creating a new financial profile.\nOptionally includes database connection settings for distributed storage.",
        "example": {
          "default_currency": "EUR",
          "description": "My personal financial tracking",
          "name": "Personal Finance",
          "profile_type": "personal"
        }
      },
      "FinancialProfileListResponse": {
        "properties": {
          "profiles": {
            "items": {
              "$ref": "#/components/schemas/FinancialProfileResponse"
            },
            "type": "array",
            "title": "Profiles",
            "description": "List of financial profiles"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of profiles"
          }
        },
        "type": "object",
        "required": [
          "profiles",
          "total"
        ],
        "title": "FinancialProfileListResponse",
        "description": "Schema for list financial profiles response with pagination support.",
        "example": {
          "profiles": [
            {
              "created_at": "2025-01-15T10:30:00Z",
              "default_currency": "EUR",
              "description": "My personal financial tracking",
              "id": "550e8400-e29b-41d4-a716-446655440000",
              "is_active": true,
              "is_available": true,
              "name": "Personal Finance",
              "profile_type": "personal",
              "updated_at": "2025-01-20T14:22:00Z",
              "user_id": "550e8400-e29b-41d4-a716-446655440001"
            }
          ],
          "total": 1
        }
      },
      "FinancialProfileResponse": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name",
            "description": "Financial profile name",
            "examples": [
              "Personal Finance",
              "Family Budget",
              "Business Expenses"
            ]
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Optional description of the financial profile"
          },
          "profile_type": {
            "$ref": "#/components/schemas/ProfileType",
            "description": "Type of financial profile (personal, family, business)",
            "default": "personal"
          },
          "default_currency": {
            "type": "string",
            "pattern": "^[A-Z]{3}$",
            "title": "Default Currency",
            "description": "ISO 4217 currency code (3 uppercase letters)",
            "default": "EUR",
            "examples": [
              "EUR",
              "USD",
              "GBP"
            ]
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique financial profile identifier"
          },
          "user_id": {
            "type": "string",
            "format": "uuid",
            "title": "User Id",
            "description": "Owner user ID"
          },
          "database_connection_string": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Database Connection String",
            "description": "Database connection string (encrypted)"
          },
          "database_type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/DatabaseType"
              },
              {
                "type": "null"
              }
            ],
            "description": "Database type for distributed storage"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether the profile is currently active"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Profile creation timestamp (UTC)"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp (UTC)"
          },
          "is_available": {
            "type": "boolean",
            "title": "Is Available",
            "description": "Check if the profile's database is currently available.\nProfiles without custom database are always available.",
            "readOnly": true
          }
        },
        "type": "object",
        "required": [
          "name",
          "id",
          "user_id",
          "is_active",
          "created_at",
          "updated_at",
          "is_available"
        ],
        "title": "FinancialProfileResponse",
        "description": "Complete financial profile schema returned by API endpoints.\nIncludes all fields including computed is_available field.",
        "example": {
          "created_at": "2025-01-15T10:30:00Z",
          "default_currency": "EUR",
          "description": "My personal financial tracking",
          "id": "550e8400-e29b-41d4-a716-446655440000",
          "is_active": true,
          "is_available": true,
          "name": "Personal Finance",
          "profile_type": "personal",
          "updated_at": "2025-01-20T14:22:00Z",
          "user_id": "550e8400-e29b-41d4-a716-446655440001"
        }
      },
      "FinancialProfileUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Updated profile name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Updated description"
          },
          "profile_type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ProfileType"
              },
              {
                "type": "null"
              }
            ],
            "description": "Updated profile type"
          },
          "default_currency": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^[A-Z]{3}$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Currency",
            "description": "Updated default currency"
          },
          "database_connection_string": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Database Connection String",
            "description": "Updated database connection string"
          },
          "database_type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/DatabaseType"
              },
              {
                "type": "null"
              }
            ],
            "description": "Updated database type"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active",
            "description": "Whether the profile is active"
          }
        },
        "type": "object",
        "title": "FinancialProfileUpdate",
        "description": "Schema for updating an existing financial profile.\nAll fields are optional (partial update).",
        "example": {
          "default_currency": "USD",
          "name": "Updated Profile Name"
        }
      },
      "ForecastPointSchema": {
        "properties": {
          "date": {
            "type": "string",
            "format": "date",
            "title": "Date"
          },
          "value": {
            "type": "number",
            "title": "Value"
          },
          "confidence_lower": {
            "type": "number",
            "title": "Confidence Lower"
          },
          "confidence_upper": {
            "type": "number",
            "title": "Confidence Upper"
          },
          "scenario": {
            "$ref": "#/components/schemas/ScenarioTypeEnum"
          }
        },
        "type": "object",
        "required": [
          "date",
          "value",
          "confidence_lower",
          "confidence_upper",
          "scenario"
        ],
        "title": "ForecastPointSchema",
        "description": "A single forecast point"
      },
      "ForecastRequest": {
        "properties": {
          "financial_profile_id": {
            "type": "string",
            "format": "uuid",
            "title": "Financial Profile Id"
          },
          "account_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Account Id"
          },
          "horizon_days": {
            "type": "integer",
            "maximum": 365.0,
            "minimum": 7.0,
            "title": "Horizon Days",
            "description": "Number of days to forecast (7-365)",
            "default": 90
          },
          "include_recurring": {
            "type": "boolean",
            "title": "Include Recurring",
            "description": "Include recurring transactions in forecast",
            "default": true
          },
          "include_patterns": {
            "type": "boolean",
            "title": "Include Patterns",
            "description": "Include historical pattern analysis",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "financial_profile_id"
        ],
        "title": "ForecastRequest",
        "description": "Request for cash flow forecast"
      },
      "ForecastResponse": {
        "properties": {
          "start_date": {
            "type": "string",
            "format": "date",
            "title": "Start Date"
          },
          "end_date": {
            "type": "string",
            "format": "date",
            "title": "End Date"
          },
          "current_balance": {
            "type": "number",
            "title": "Current Balance"
          },
          "optimistic_scenario": {
            "items": {
              "$ref": "#/components/schemas/ForecastPointSchema"
            },
            "type": "array",
            "title": "Optimistic Scenario"
          },
          "likely_scenario": {
            "items": {
              "$ref": "#/components/schemas/ForecastPointSchema"
            },
            "type": "array",
            "title": "Likely Scenario"
          },
          "pessimistic_scenario": {
            "items": {
              "$ref": "#/components/schemas/ForecastPointSchema"
            },
            "type": "array",
            "title": "Pessimistic Scenario"
          },
          "insights": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Insights"
          },
          "warnings": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Warnings"
          },
          "reliability_score": {
            "type": "number",
            "title": "Reliability Score"
          }
        },
        "type": "object",
        "required": [
          "start_date",
          "end_date",
          "current_balance",
          "optimistic_scenario",
          "likely_scenario",
          "pessimistic_scenario",
          "insights",
          "warnings",
          "reliability_score"
        ],
        "title": "ForecastResponse",
        "description": "Forecast response"
      },
      "GoalMilestoneCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "Milestone name"
          },
          "target_amount": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "string"
              }
            ],
            "title": "Target Amount",
            "description": "Target amount for this milestone"
          },
          "target_date": {
            "type": "string",
            "format": "date",
            "title": "Target Date",
            "description": "Target date for this milestone"
          }
        },
        "type": "object",
        "required": [
          "name",
          "target_amount",
          "target_date"
        ],
        "title": "GoalMilestoneCreate",
        "description": "Schema for creating a new milestone for a goal.",
        "example": {
          "name": "Reach 25k milestone",
          "target_amount": 25000.0,
          "target_date": "2025-12-31"
        }
      },
      "GoalMilestoneResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique milestone identifier"
          },
          "goal_id": {
            "type": "string",
            "format": "uuid",
            "title": "Goal Id",
            "description": "ID of the parent goal"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Milestone name"
          },
          "target_amount": {
            "type": "string",
            "title": "Target Amount",
            "description": "Target amount for this milestone"
          },
          "target_date": {
            "type": "string",
            "format": "date",
            "title": "Target Date",
            "description": "Target date for this milestone"
          },
          "is_completed": {
            "type": "boolean",
            "title": "Is Completed",
            "description": "Whether the milestone has been completed",
            "default": false
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At",
            "description": "When the milestone was completed"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Milestone creation timestamp (UTC)"
          }
        },
        "type": "object",
        "required": [
          "id",
          "goal_id",
          "name",
          "target_amount",
          "target_date",
          "created_at"
        ],
        "title": "GoalMilestoneResponse",
        "description": "Schema for goal milestone.\nRepresents a smaller achievable step towards the main goal.",
        "example": {
          "completed_at": "2025-06-15T14:30:00Z",
          "created_at": "2025-01-01T00:00:00Z",
          "goal_id": "550e8400-e29b-41d4-a716-446655440040",
          "id": "550e8400-e29b-41d4-a716-446655440041",
          "is_completed": true,
          "name": "First 10k saved",
          "target_amount": 10000.0,
          "target_date": "2025-06-30"
        }
      },
      "GoalMilestoneUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Updated milestone name"
          },
          "target_amount": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Amount",
            "description": "Updated target amount"
          },
          "target_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Date",
            "description": "Updated target date"
          },
          "is_completed": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Completed",
            "description": "Mark milestone as completed or uncompleted"
          }
        },
        "type": "object",
        "title": "GoalMilestoneUpdate",
        "description": "Schema for updating a milestone.\nAll fields are optional (partial update).",
        "example": {
          "is_completed": true
        }
      },
      "GoalStatus": {
        "type": "string",
        "enum": [
          "active",
          "paused",
          "completed",
          "cancelled"
        ],
        "title": "GoalStatus",
        "description": "Status of financial goals"
      },
      "GoalType": {
        "type": "string",
        "enum": [
          "house",
          "car",
          "vacation",
          "retirement",
          "emergency_fund",
          "education",
          "investment",
          "custom"
        ],
        "title": "GoalType",
        "description": "Types of financial goals"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "MainProfileResponse": {
        "properties": {
          "user_id": {
            "type": "string",
            "format": "uuid",
            "title": "User Id",
            "description": "User ID"
          },
          "main_profile_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Main Profile Id",
            "description": "Main profile ID"
          }
        },
        "type": "object",
        "required": [
          "user_id"
        ],
        "title": "MainProfileResponse",
        "description": "Schema for main profile response.",
        "example": {
          "main_profile_id": "550e8400-e29b-41d4-a716-446655440000",
          "user_id": "550e8400-e29b-41d4-a716-446655440003"
        }
      },
      "MainProfileUpdate": {
        "properties": {
          "main_profile_id": {
            "type": "string",
            "format": "uuid",
            "title": "Main Profile Id",
            "description": "Profile ID to set as main profile"
          }
        },
        "type": "object",
        "required": [
          "main_profile_id"
        ],
        "title": "MainProfileUpdate",
        "description": "Schema for setting user's main profile.",
        "example": {
          "main_profile_id": "550e8400-e29b-41d4-a716-446655440000"
        }
      },
      "OptimizationCategory": {
        "type": "string",
        "enum": [
          "waste",
          "subscription",
          "cashflow",
          "savings"
        ],
        "title": "OptimizationCategory",
        "description": "Optimization insight categories"
      },
      "OptimizationInsightSchema": {
        "properties": {
          "category": {
            "$ref": "#/components/schemas/OptimizationCategory"
          },
          "priority": {
            "$ref": "#/components/schemas/OptimizationPriority"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "potential_savings": {
            "type": "number",
            "title": "Potential Savings"
          },
          "actionable": {
            "type": "boolean",
            "title": "Actionable"
          },
          "action_steps": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Action Steps"
          },
          "impact_score": {
            "type": "number",
            "title": "Impact Score"
          }
        },
        "type": "object",
        "required": [
          "category",
          "priority",
          "title",
          "description",
          "potential_savings",
          "actionable",
          "action_steps",
          "impact_score"
        ],
        "title": "OptimizationInsightSchema",
        "description": "An optimization insight"
      },
      "OptimizationPriority": {
        "type": "string",
        "enum": [
          "high",
          "medium",
          "low"
        ],
        "title": "OptimizationPriority",
        "description": "Optimization priority levels"
      },
      "OptimizationRequest": {
        "properties": {
          "financial_profile_id": {
            "type": "string",
            "format": "uuid",
            "title": "Financial Profile Id"
          },
          "lookback_days": {
            "type": "integer",
            "maximum": 365.0,
            "minimum": 30.0,
            "title": "Lookback Days",
            "description": "Days of history to analyze (30-365)",
            "default": 90
          }
        },
        "type": "object",
        "required": [
          "financial_profile_id"
        ],
        "title": "OptimizationRequest",
        "description": "Request for optimization insights"
      },
      "OptimizationResponse": {
        "properties": {
          "insights": {
            "items": {
              "$ref": "#/components/schemas/OptimizationInsightSchema"
            },
            "type": "array",
            "title": "Insights"
          },
          "total_potential_savings": {
            "type": "number",
            "title": "Total Potential Savings"
          },
          "insights_by_priority": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Insights By Priority"
          }
        },
        "type": "object",
        "required": [
          "insights",
          "total_potential_savings",
          "insights_by_priority"
        ],
        "title": "OptimizationResponse",
        "description": "Optimization insights response"
      },
      "PeriodType": {
        "type": "string",
        "enum": [
          "monthly",
          "quarterly",
          "yearly",
          "custom"
        ],
        "title": "PeriodType",
        "description": "Budget period types"
      },
      "ProfileSelectionResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Selection record ID"
          },
          "user_id": {
            "type": "string",
            "format": "uuid",
            "title": "User Id",
            "description": "User ID"
          },
          "active_profile_ids": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "title": "Active Profile Ids",
            "description": "List of active profile IDs"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Selection creation timestamp (UTC)"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp (UTC)"
          }
        },
        "type": "object",
        "required": [
          "id",
          "user_id",
          "active_profile_ids",
          "created_at",
          "updated_at"
        ],
        "title": "ProfileSelectionResponse",
        "description": "Schema for profile selection response.",
        "example": {
          "active_profile_ids": [
            "550e8400-e29b-41d4-a716-446655440000",
            "550e8400-e29b-41d4-a716-446655440001"
          ],
          "created_at": "2025-01-15T10:30:00Z",
          "id": "550e8400-e29b-41d4-a716-446655440002",
          "updated_at": "2025-01-20T14:22:00Z",
          "user_id": "550e8400-e29b-41d4-a716-446655440003"
        }
      },
      "ProfileSelectionUpdate": {
        "properties": {
          "active_profile_ids": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "minItems": 0,
            "title": "Active Profile Ids",
            "description": "List of profile IDs currently selected for multi-profile operations"
          }
        },
        "type": "object",
        "required": [
          "active_profile_ids"
        ],
        "title": "ProfileSelectionUpdate",
        "description": "Schema for updating user's active profile selection.",
        "example": {
          "active_profile_ids": [
            "550e8400-e29b-41d4-a716-446655440000",
            "550e8400-e29b-41d4-a716-446655440001"
          ]
        }
      },
      "ProfileType": {
        "type": "string",
        "enum": [
          "personal",
          "family",
          "business"
        ],
        "title": "ProfileType",
        "description": "Types of financial profiles"
      },
      "QueryIntentEnum": {
        "type": "string",
        "enum": [
          "balance_query",
          "spending_analysis",
          "budget_status",
          "transaction_search",
          "category_breakdown",
          "goal_status",
          "forecast_request",
          "recommendation_request",
          "comparison",
          "general_question"
        ],
        "title": "QueryIntentEnum",
        "description": "Query intent types"
      },
      "SavingsSummary": {
        "properties": {
          "total_monthly_savings": {
            "type": "number",
            "title": "Total Monthly Savings"
          },
          "annual_savings": {
            "type": "number",
            "title": "Annual Savings"
          },
          "by_category": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "By Category"
          },
          "insights_count": {
            "type": "integer",
            "title": "Insights Count"
          },
          "high_priority_count": {
            "type": "integer",
            "title": "High Priority Count"
          },
          "top_insights": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "title": "Top Insights"
          }
        },
        "type": "object",
        "required": [
          "total_monthly_savings",
          "annual_savings",
          "by_category",
          "insights_count",
          "high_priority_count",
          "top_insights"
        ],
        "title": "SavingsSummary",
        "description": "Summary of potential savings"
      },
      "ScenarioTypeEnum": {
        "type": "string",
        "enum": [
          "optimistic",
          "likely",
          "pessimistic"
        ],
        "title": "ScenarioTypeEnum",
        "description": "Forecast scenario types"
      },
      "SpendingPatternSchema": {
        "properties": {
          "merchant": {
            "type": "string",
            "title": "Merchant"
          },
          "category": {
            "type": "string",
            "title": "Category"
          },
          "frequency": {
            "type": "string",
            "title": "Frequency"
          },
          "average_amount": {
            "type": "number",
            "title": "Average Amount"
          },
          "total_amount": {
            "type": "number",
            "title": "Total Amount"
          },
          "transaction_count": {
            "type": "integer",
            "title": "Transaction Count"
          },
          "last_occurrence": {
            "type": "string",
            "format": "date",
            "title": "Last Occurrence"
          }
        },
        "type": "object",
        "required": [
          "merchant",
          "category",
          "frequency",
          "average_amount",
          "total_amount",
          "transaction_count",
          "last_occurrence"
        ],
        "title": "SpendingPatternSchema",
        "description": "A detected spending pattern"
      },
      "SpendingPatternsResponse": {
        "properties": {
          "patterns": {
            "items": {
              "$ref": "#/components/schemas/SpendingPatternSchema"
            },
            "type": "array",
            "title": "Patterns"
          },
          "total_patterns": {
            "type": "integer",
            "title": "Total Patterns"
          }
        },
        "type": "object",
        "required": [
          "patterns",
          "total_patterns"
        ],
        "title": "SpendingPatternsResponse",
        "description": "Spending patterns response"
      },
      "SuggestedTag": {
        "properties": {
          "tag_id": {
            "type": "string",
            "format": "uuid",
            "title": "Tag Id"
          },
          "tag_name": {
            "type": "string",
            "title": "Tag Name"
          },
          "tag_type": {
            "type": "string",
            "title": "Tag Type"
          },
          "confidence": {
            "type": "number",
            "title": "Confidence"
          }
        },
        "type": "object",
        "required": [
          "tag_id",
          "tag_name",
          "tag_type",
          "confidence"
        ],
        "title": "SuggestedTag",
        "description": "A suggested tag for a transaction"
      },
      "Token": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "default": "bearer"
          }
        },
        "type": "object",
        "required": [
          "access_token"
        ],
        "title": "Token"
      },
      "TrainModelRequest": {
        "properties": {
          "financial_profile_id": {
            "type": "string",
            "format": "uuid",
            "title": "Financial Profile Id"
          }
        },
        "type": "object",
        "required": [
          "financial_profile_id"
        ],
        "title": "TrainModelRequest",
        "description": "Request to train user model"
      },
      "TrainModelResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "metrics": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metrics"
          },
          "training_samples": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Training Samples"
          },
          "model_version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Model Version"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "TrainModelResponse",
        "description": "Response from model training"
      },
      "TransactionCreate": {
        "properties": {
          "account_id": {
            "type": "string",
            "format": "uuid",
            "title": "Account Id",
            "description": "ID of the account this transaction belongs to"
          },
          "category_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category Id",
            "description": "ID of the category this transaction is assigned to"
          },
          "transaction_type": {
            "$ref": "#/components/schemas/TransactionType",
            "description": "Type of transaction (bank_transfer, withdrawal, payment, etc.)"
          },
          "amount": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "string"
              }
            ],
            "title": "Amount",
            "description": "Transaction amount (must be positive)",
            "examples": [
              50.0,
              1250.75,
              99.99
            ]
          },
          "currency": {
            "type": "string",
            "pattern": "^[A-Z]{3}$",
            "title": "Currency",
            "description": "ISO 4217 currency code (3 uppercase letters)",
            "examples": [
              "EUR",
              "USD",
              "GBP"
            ]
          },
          "description": {
            "type": "string",
            "minLength": 1,
            "title": "Description",
            "description": "Transaction description",
            "examples": [
              "Grocery shopping",
              "Monthly rent",
              "Salary deposit"
            ]
          },
          "merchant_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Merchant Name",
            "description": "Name of the merchant/vendor"
          },
          "transaction_date": {
            "type": "string",
            "format": "date",
            "title": "Transaction Date",
            "description": "Date when the transaction occurred"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Additional notes about the transaction"
          },
          "value_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Value Date",
            "description": "Date when transaction was valued (for banking)"
          },
          "location": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Location",
            "description": "Transaction location"
          },
          "receipt_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Receipt Url",
            "description": "URL to receipt or document"
          },
          "created_by": {
            "$ref": "#/components/schemas/TransactionSource",
            "description": "Source of transaction creation",
            "default": "manual"
          }
        },
        "type": "object",
        "required": [
          "account_id",
          "transaction_type",
          "amount",
          "currency",
          "description",
          "transaction_date"
        ],
        "title": "TransactionCreate",
        "description": "Schema for creating a new transaction.\nIncludes optional fields for advanced features.",
        "example": {
          "account_id": "550e8400-e29b-41d4-a716-446655440000",
          "amount": 85.5,
          "category_id": "550e8400-e29b-41d4-a716-446655440002",
          "created_by": "manual",
          "currency": "EUR",
          "description": "Grocery shopping at Supermarket",
          "merchant_name": "Local Supermarket",
          "notes": "Weekly groceries",
          "transaction_date": "2025-01-15",
          "transaction_type": "purchase"
        }
      },
      "TransactionListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/TransactionResponse"
            },
            "type": "array",
            "title": "Items",
            "description": "List of transactions"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of transactions"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total"
        ],
        "title": "TransactionListResponse",
        "description": "Schema for list transactions response with pagination support.",
        "example": {
          "items": [
            {
              "account_id": "550e8400-e29b-41d4-a716-446655440000",
              "amount": 85.5,
              "amount_in_profile_currency": 85.5,
              "category_id": "550e8400-e29b-41d4-a716-446655440002",
              "created_at": "2025-01-15T10:30:00Z",
              "created_by": "manual",
              "currency": "EUR",
              "description": "Grocery shopping",
              "id": "550e8400-e29b-41d4-a716-446655440010",
              "is_reconciled": false,
              "merchant_name": "Local Supermarket",
              "merchant_normalized": "local_supermarket",
              "notes": "Weekly groceries",
              "transaction_date": "2025-01-15",
              "transaction_type": "purchase",
              "updated_at": "2025-01-15T10:30:00Z"
            }
          ],
          "total": 1
        }
      },
      "TransactionResponse": {
        "properties": {
          "account_id": {
            "type": "string",
            "format": "uuid",
            "title": "Account Id",
            "description": "ID of the account this transaction belongs to"
          },
          "category_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category Id",
            "description": "ID of the category this transaction is assigned to"
          },
          "transaction_type": {
            "$ref": "#/components/schemas/TransactionType",
            "description": "Type of transaction (bank_transfer, withdrawal, payment, etc.)"
          },
          "amount": {
            "type": "string",
            "title": "Amount",
            "description": "Transaction amount (must be positive)",
            "examples": [
              50.0,
              1250.75,
              99.99
            ]
          },
          "currency": {
            "type": "string",
            "pattern": "^[A-Z]{3}$",
            "title": "Currency",
            "description": "ISO 4217 currency code (3 uppercase letters)",
            "examples": [
              "EUR",
              "USD",
              "GBP"
            ]
          },
          "description": {
            "type": "string",
            "minLength": 1,
            "title": "Description",
            "description": "Transaction description",
            "examples": [
              "Grocery shopping",
              "Monthly rent",
              "Salary deposit"
            ]
          },
          "merchant_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Merchant Name",
            "description": "Name of the merchant/vendor"
          },
          "transaction_date": {
            "type": "string",
            "format": "date",
            "title": "Transaction Date",
            "description": "Date when the transaction occurred"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Additional notes about the transaction"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Unique transaction identifier"
          },
          "recurring_transaction_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Recurring Transaction Id",
            "description": "ID of parent recurring transaction (if applicable)"
          },
          "exchange_rate_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Exchange Rate Id",
            "description": "ID of exchange rate used for conversion"
          },
          "amount_in_profile_currency": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Amount In Profile Currency",
            "description": "Amount converted to profile's default currency"
          },
          "merchant_normalized": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Merchant Normalized",
            "description": "ML-normalized merchant name for better categorization"
          },
          "value_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Value Date",
            "description": "Date when transaction was valued"
          },
          "is_reconciled": {
            "type": "boolean",
            "title": "Is Reconciled",
            "description": "Whether transaction has been reconciled",
            "default": false
          },
          "location": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location",
            "description": "Transaction location"
          },
          "receipt_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Receipt Url",
            "description": "URL to receipt or document"
          },
          "created_by": {
            "$ref": "#/components/schemas/TransactionSource"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Transaction creation timestamp (UTC)"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp (UTC)"
          }
        },
        "type": "object",
        "required": [
          "account_id",
          "transaction_type",
          "amount",
          "currency",
          "description",
          "transaction_date",
          "id",
          "created_by",
          "created_at",
          "updated_at"
        ],
        "title": "TransactionResponse",
        "description": "Complete transaction schema returned by API endpoints.\nIncludes all fields including computed and metadata fields.",
        "example": {
          "account_id": "550e8400-e29b-41d4-a716-446655440000",
          "amount": 85.5,
          "amount_in_profile_currency": 85.5,
          "category_id": "550e8400-e29b-41d4-a716-446655440002",
          "created_at": "2025-01-15T10:30:00Z",
          "created_by": "manual",
          "currency": "EUR",
          "description": "Grocery shopping at Supermarket",
          "id": "550e8400-e29b-41d4-a716-446655440010",
          "is_reconciled": false,
          "merchant_name": "Local Supermarket",
          "merchant_normalized": "local_supermarket",
          "notes": "Weekly groceries",
          "transaction_date": "2025-01-15",
          "transaction_type": "purchase",
          "updated_at": "2025-01-15T10:30:00Z"
        }
      },
      "TransactionSource": {
        "type": "string",
        "enum": [
          "manual",
          "import_csv",
          "import_ocr",
          "import_api",
          "recurring"
        ],
        "title": "TransactionSource",
        "description": "Source of transaction creation"
      },
      "TransactionType": {
        "type": "string",
        "enum": [
          "bank_transfer",
          "withdrawal",
          "payment",
          "purchase",
          "internal_transfer",
          "income",
          "asset_purchase",
          "asset_sale",
          "other"
        ],
        "title": "TransactionType",
        "description": "Types of financial transactions"
      },
      "TransactionUpdate": {
        "properties": {
          "category_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category Id",
            "description": "Updated category ID"
          },
          "transaction_type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/TransactionType"
              },
              {
                "type": "null"
              }
            ],
            "description": "Updated transaction type"
          },
          "amount": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0.0
              },
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Amount",
            "description": "Updated amount"
          },
          "currency": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^[A-Z]{3}$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Currency",
            "description": "Updated currency code"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Updated description"
          },
          "merchant_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Merchant Name",
            "description": "Updated merchant name"
          },
          "transaction_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Transaction Date",
            "description": "Updated transaction date"
          },
          "value_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Value Date",
            "description": "Updated value date"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Updated notes"
          },
          "is_reconciled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Reconciled",
            "description": "Whether transaction has been reconciled"
          },
          "location": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Location",
            "description": "Updated location"
          },
          "receipt_url": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Receipt Url",
            "description": "Updated receipt URL"
          }
        },
        "type": "object",
        "title": "TransactionUpdate",
        "description": "Schema for updating an existing transaction.\nAll fields are optional (partial update).",
        "example": {
          "category_id": "550e8400-e29b-41d4-a716-446655440003",
          "notes": "Updated notes"
        }
      },
      "UserLogin": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "password": {
            "type": "string",
            "title": "Password"
          }
        },
        "type": "object",
        "required": [
          "email",
          "password"
        ],
        "title": "UserLogin"
      },
      "UserRegister": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "password": {
            "type": "string",
            "maxLength": 50,
            "minLength": 8,
            "title": "Password"
          }
        },
        "type": "object",
        "required": [
          "email",
          "password"
        ],
        "title": "UserRegister"
      },
      "UserResponse": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "full_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Name"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "is_verified": {
            "type": "boolean",
            "title": "Is Verified"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "email",
          "id",
          "is_active",
          "is_verified",
          "created_at",
          "updated_at"
        ],
        "title": "UserResponse"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      }
    },
    "securitySchemes": {
      "HTTPBearer": {
        "type": "http",
        "scheme": "bearer"
      },
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "JWT token obtained from /api/v1/auth/login endpoint. Token expires after 30 minutes."
      }
    }
  },
  "tags": [
    {
      "name": "Health",
      "description": "Health check and status endpoints for monitoring"
    },
    {
      "name": "Authentication",
      "description": "User authentication and authorization endpoints. Includes registration, login, token refresh, and password reset."
    },
    {
      "name": "Accounts",
      "description": "Financial accounts management. Create and manage multiple accounts (checking, savings, credit cards, investments) with multi-currency support."
    },
    {
      "name": "Transactions",
      "description": "Transaction tracking and management with AI-powered automatic categorization. Supports bulk import from CSV and manual entry."
    },
    {
      "name": "Categories",
      "description": "Transaction categories management. Organize transactions with hierarchical categories and custom tags."
    },
    {
      "name": "Budgets",
      "description": "Budget planning and monitoring. Create budgets for categories, track spending, and receive alerts when approaching limits."
    },
    {
      "name": "Analytics",
      "description": "Financial analytics and insights. Get spending trends, forecasts, and AI-powered recommendations for better financial decisions."
    }
  ],
  "security": [
    {
      "bearerAuth": []
    }
  ]
}